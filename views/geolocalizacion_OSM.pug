doctype html
html(lang="ca")
  head
    title DAW2
    meta(charset="utf-8")
    link(rel="stylesheet", href="https://cdn.jsdelivr.net/gh/openlayers/openlayers.github.io@master/en/v6.4.3/css/ol.css", type="text/css")
    link(rel="stylesheet", href="./style.css")
    script(src="https://cdn.jsdelivr.net/gh/openlayers/openlayers.github.io@master/en/v6.4.3/build/ol.js")
    style(type="text/css").
      html {
          height: 100%;
      }
      body {
          height: 100%;
          margin: 0;
          padding: 0;
      }
      #mapa {
          height: 400px;
          width: 100%;
      }
  body
    h1 Geolocalitzaci√≥ API
    #mapa(style="width:100%; height:100%")
    script(type="text/javascript").
      const view = new ol.View({
          center: [0, 0],
          zoom: 2,
      });
      
      const map = new ol.Map({
          layers: [
              new ol.layer.Tile({
                  source: new ol.source.OSM(),
              }),
          ],
          target: "mapa",
          controls: ol.control.defaults({
              attributionOptions: {
                  collapsible: false,
              },
          }),
          view: view,
      });
      
      const geolocation = new ol.Geolocation({
          trackingOptions: {
              enableHighAccuracy: true,
          },
          projection: view.getProjection(),
      });
      
      const accuracyFeature = new ol.Feature();
      
      const positionFeature = new ol.Feature();
      positionFeature.bindTo("geometry", geolocation, "position").transform(
          function () {},
          function (coordinates) {
              return coordinates ? new ol.geom.Point(coordinates) : null;
          }
      );
      
      const featuresOverlay = new ol.FeatureOverlay({
          map: map,
          features: [accuracyFeature, positionFeature],
      });
